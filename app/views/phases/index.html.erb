<!-- <p style="color: green"><%= notice %></p> -->

<main data-view-id="6">
  <div class="d-flex justify-content-between align-items-center">
    <h1 class="mt-4">LISTA DE FASES</h1>

    <div class="d-flex align-items-center gap-2">
        <%= link_to "Agregar fase", new_phase_path, class: "btn btn-primary" %>
        <%= render "shared/sidebar_button" %>
    </div>
  </div>
  
  <div id="phases">
    <% @phases.each do |phase| %>
      <div class="mt-3">
        <%= render phase %>
      </div>
  
      <div class="d-flex align-items-center mt-3 gap-1">
        <%= link_to "Ver detalles", phase, class: "btn btn-outline-primary" %>
  
        <% if !phase.has_associated_activities? %>
          <%= button_to 'Eliminar', phase, method: :delete, form:{ data: { turbo_confirm: '¿Está seguro(a) de que desea eliminar esta fase?' }} , class: "btn btn-outline-danger"%>
        <% end %>
      </div>
    <% end %>
  </div>
  
  <div class="mt-4">
    <%= will_paginate @phases, inner_window: 1 %>
  </div>
</main>